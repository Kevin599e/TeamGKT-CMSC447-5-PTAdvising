<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>UMBC Advisor Packet Generator</title>
  <link rel="stylesheet" href="../styles/styles.css"/>
</head>
<body>
  <header>
    <h1>UMBC Advisor Packet Generator</h1>
    <div id="auth-status"></div>
  </header>

  <main>
    <section class="card">
      <h2>Login</h2>
      <form id="login-form">
        <input type="email" name="email" placeholder="email" required/>
        <input type="password" name="password" placeholder="password" required/>
        <button type="submit">Login</button>
      </form>
      <button id="logout-btn" style="display:none">Logout</button>
    </section>

    <section class="card">
      <h2>Create Student Request</h2>
      <form id="request-form">
        <input name="student_name" placeholder="Student Name" required />
        <input type="email" name="student_email" placeholder="Student Email" required />
        <input name="source_institution" placeholder="Source Institution" />
        <input name="target_program" placeholder="Target Program" />
        <button type="submit">Create Request</button>
      </form>
    </section>

    <section class="card">
      <h2>Generate Packet</h2>
      <form id="packet-form">
        <input name="request_id" placeholder="Request ID" required />
        <input name="template_id" placeholder="Template ID" required />
        <button type="submit">Generate</button>
      </form>
      <form id="finalize-form">
        <input name="packet_id" placeholder="Packet ID" required />
        <button type="submit">Finalize</button>
      </form>
      <form id="export-form">
        <input name="packet_id" placeholder="Packet ID" required />
        <select name="format">
          <option value="docx" selected>DOCX</option>
          <option value="pdf">PDF (LaTeX)</option>
        </select>
        <button type="submit">Export</button>
      </form>
    </section>

    <section class="card">
      <h2>Templates</h2>
      <button id="list-templates">List Templates</button>
      <pre id="templates-output"></pre>
    </section>

    <section class="card">
      <h2>Create New Template (Admin)</h2>

      <form id="template-form">
        <input name="template_name" placeholder="Template Name (ex: Fall 2025 Transfer Packet)" required />
        <label style="width:100%">
          Sections JSON
          <textarea
            name="sections_json"
            style="width:100%;min-height:120px;"
            placeholder='[
            { "title": "Welcome", "content": "Welcome to UMBC Advising." },
            { "title": "Transfer Credits", "content": "Your evaluated credits..." },
            { "title": "Next Steps", "content": "Please complete orientation..." }]'
          ></textarea>
        </label>
        <button type="submit">Create Template</button>
      </form>

      <pre id="template-create-output"></pre>
    </section>

    <section class="card">
      <h2>Your Student Requests</h2>
      <button id="list-requests">List Requests</button>
      <pre id="requests-output"></pre>
    </section>
  </main>

  <script src="../js/app.js"></script>
</body>
</html>
